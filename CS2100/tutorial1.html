<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-UK" xml:lang="en-UK">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />

  <meta name="author" content="Qi Ji" />


  <meta name="dcterms.date" content="Week 3" />

  <title>CS2100 Tutorial 1</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
      q { quotes: "“" "”" "‘" "’"; }
  </style>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Inconsolata|PT+Sans|PT+Sans+Narrow:700">
  <link rel="stylesheet" href="../css/pandoc.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
</head>
<body>
<main role="main">
<h1 class="title">CS2100 Tutorial 1</h1>
<article>
<header>


<p class="author">Qi Ji</p>


<p class="date">Week 3</p>

</header>
<h1 id="sign-extend"><span class="header-section-number">1</span> Sign-extend</h1>
<p>Copy the first bit leftwards.</p>
<ul>
<li><span class="math inline">\(0101\)</span> extended is <span class="math inline">\(00000101\)</span>.</li>
<li><span class="math inline">\(1001\)</span> extended is <span class="math inline">\(11111001\)</span>.</li>
</ul>
<h1 id="r-1s-complement-radix-diminished-complement"><span class="header-section-number">2</span> <span class="math inline">\(r-1\)</span>’s complement (radix diminished complement)</h1>
<ol type="a">
<li><p><span class="math inline">\(0101.11 - 010.0101\)</span></p>
<p>After sign extension, <span class="math display">\[ \begin{array}{rr}
&amp;0101.1100 \\
   -&amp;0010.0101 \\ \hline
&amp;0101.1100 \\
   +&amp;1101.1010 \\ \hline
&amp;1\,0011.0110 \\\hline
&amp;0011.0111
\end{array}\]</span> remember the wrap-around carry property of one’s complement.</p></li>
<li><p><span class="math inline">\(010111.101 - 0111010.11\)</span></p>
<p>Similarly after sign extension, compute, <span class="math display">\[\begin{array}{rrcl}
&amp;0010111.101 \\
   -&amp;0111010.110 \\ \hline
&amp;0010111.101 \\
   +&amp;1000101.001 \\ \hline
&amp;1011100.110
\end{array}\]</span></p></li>
</ol>
<h1 id="ieee-754"><span class="header-section-number">3</span> IEEE 754</h1>
<ul>
<li><p>Sign is negative, sign bit is <span class="math inline">\(1\)</span>.</p></li>
<li><p><span class="math inline">\(0.078125\)</span> in binary is, by iterated multiplication <span class="math display">\[0.000101 = 1.01 \times 2^{-4}\]</span> so exponent is <span class="math inline">\(-4\)</span> and mantissa is <span class="math inline">\(01\)</span>.</p></li>
<li><p>Store <span class="math inline">\((1, 123, 01\underline{0})\)</span>. <span class="math inline">\(123 = 1111011\)</span>, which is <span class="math display">\[1\ 01111011\ 01000000000000000000000\]</span></p></li>
</ul>
<p>In hex, it’s <code>0xbda00000</code>.</p>
<h1 id="cs1010"><span class="header-section-number">4</span> CS1010</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><a class="sourceLine" id="cb1-1" title="1"><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="pp">#define MAX 10</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="dt">int</span>  readArray(<span class="dt">int</span>[], <span class="dt">int</span>);</a>
<a class="sourceLine" id="cb1-5" title="5"><span class="dt">void</span> printArray(<span class="dt">int</span>[], <span class="dt">int</span>);</a>
<a class="sourceLine" id="cb1-6" title="6"><span class="dt">void</span> reverseArray(<span class="dt">int</span>[], <span class="dt">int</span>);</a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="dt">int</span></a>
<a class="sourceLine" id="cb1-9" title="9">main(<span class="dt">void</span>)</a>
<a class="sourceLine" id="cb1-10" title="10">{</a>
<a class="sourceLine" id="cb1-11" title="11">    <span class="dt">int</span> a[MAX], n;</a>
<a class="sourceLine" id="cb1-12" title="12"></a>
<a class="sourceLine" id="cb1-13" title="13">    n = readArray(a, MAX);</a>
<a class="sourceLine" id="cb1-14" title="14">    reverseArray(a, n);</a>
<a class="sourceLine" id="cb1-15" title="15">    printArray(a, n);</a>
<a class="sourceLine" id="cb1-16" title="16">}</a>
<a class="sourceLine" id="cb1-17" title="17"></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="dt">int</span></a>
<a class="sourceLine" id="cb1-19" title="19">readArray(<span class="dt">int</span> a[], <span class="dt">int</span> l)</a>
<a class="sourceLine" id="cb1-20" title="20">{</a>
<a class="sourceLine" id="cb1-21" title="21">    <span class="dt">int</span> x, *p;</a>
<a class="sourceLine" id="cb1-22" title="22"></a>
<a class="sourceLine" id="cb1-23" title="23">    printf(<span class="st">&quot;Enter up to %d integers, terminating with a negative integer.</span><span class="sc">\n</span><span class="st">&quot;</span>, l);</a>
<a class="sourceLine" id="cb1-24" title="24"></a>
<a class="sourceLine" id="cb1-25" title="25">    p = a;</a>
<a class="sourceLine" id="cb1-26" title="26">    <span class="cf">while</span> (scanf(<span class="st">&quot;%d&quot;</span>, p), *p &gt; <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb1-27" title="27">        p++;</a>
<a class="sourceLine" id="cb1-28" title="28"></a>
<a class="sourceLine" id="cb1-29" title="29">    <span class="cf">return</span> p - a;</a>
<a class="sourceLine" id="cb1-30" title="30">}</a>
<a class="sourceLine" id="cb1-31" title="31"></a>
<a class="sourceLine" id="cb1-32" title="32"><span class="dt">void</span></a>
<a class="sourceLine" id="cb1-33" title="33">reverseArray(<span class="dt">int</span> a[], <span class="dt">int</span> n)</a>
<a class="sourceLine" id="cb1-34" title="34">{</a>
<a class="sourceLine" id="cb1-35" title="35">    <span class="dt">int</span> *p, *q, tmp;</a>
<a class="sourceLine" id="cb1-36" title="36"></a>
<a class="sourceLine" id="cb1-37" title="37">    <span class="cf">for</span> (p = a, q = a + n - <span class="dv">1</span>; p &lt; q; ++p, --q) {</a>
<a class="sourceLine" id="cb1-38" title="38">        tmp = *p;</a>
<a class="sourceLine" id="cb1-39" title="39">        *p = *q;</a>
<a class="sourceLine" id="cb1-40" title="40">        *q = tmp;</a>
<a class="sourceLine" id="cb1-41" title="41">    }</a>
<a class="sourceLine" id="cb1-42" title="42">}</a>
<a class="sourceLine" id="cb1-43" title="43"></a>
<a class="sourceLine" id="cb1-44" title="44"><span class="dt">void</span></a>
<a class="sourceLine" id="cb1-45" title="45">printArray(<span class="dt">int</span> a[], <span class="dt">int</span> n)</a>
<a class="sourceLine" id="cb1-46" title="46">{</a>
<a class="sourceLine" id="cb1-47" title="47">    <span class="dt">int</span> i;</a>
<a class="sourceLine" id="cb1-48" title="48"></a>
<a class="sourceLine" id="cb1-49" title="49">    <span class="cf">for</span> (i = <span class="dv">0</span>; i &lt; n; ++i)</a>
<a class="sourceLine" id="cb1-50" title="50">        printf(<span class="st">&quot;%d &quot;</span>, a[i]);</a>
<a class="sourceLine" id="cb1-51" title="51">    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>);</a>
<a class="sourceLine" id="cb1-52" title="52">}</a></code></pre></div>
<h1 id="tracing"><span class="header-section-number">5</span> Tracing</h1>
<table>
<thead>
<tr class="header">
<th>Code</th>
<th><code>a</code></th>
<th><code>b</code></th>
<th><code>c</code></th>
<th><code>d</code></th>
<th><code>e</code></th>
<th><code>f</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>a = 3</code></td>
<td>3</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>b = &amp;a</code></td>
<td>3</td>
<td><code>a</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>*b = 5</code></td>
<td>5</td>
<td><code>a</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>c = *b * 3</code></td>
<td>5</td>
<td><code>a</code></td>
<td>15</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>d = b</code></td>
<td>5</td>
<td><code>a</code></td>
<td>15</td>
<td><code>a</code></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>e = *b + c</code></td>
<td>5</td>
<td><code>a</code></td>
<td>15</td>
<td><code>a</code></td>
<td>20</td>
<td></td>
</tr>
<tr class="odd">
<td><code>*d = c + e</code></td>
<td>35</td>
<td><code>a</code></td>
<td>15</td>
<td><code>a</code></td>
<td>20</td>
<td></td>
</tr>
<tr class="even">
<td><code>f = &amp;e</code></td>
<td>35</td>
<td><code>a</code></td>
<td>15</td>
<td><code>a</code></td>
<td>20</td>
<td><code>e</code></td>
</tr>
<tr class="odd">
<td><code>a = *f + *b</code></td>
<td>55</td>
<td><code>a</code></td>
<td>15</td>
<td><code>a</code></td>
<td>20</td>
<td><code>e</code></td>
</tr>
<tr class="even">
<td><code>*f = *d - *b</code></td>
<td>55</td>
<td><code>a</code></td>
<td>15</td>
<td><code>a</code></td>
<td>0</td>
<td><code>e</code></td>
</tr>
</tbody>
</table>
<p>Expected output:</p>
<pre><code>a = 55, c = 15, e = 0
*b = 55, *d = 55, *f = 0</code></pre>
</article>
</main>
</body>
</html>
